<h2>Есть способы получше: Selenium Waits (Implicit Waits)</h2>

<p>Надеемся, вы поняли, что решение с<strong> time.sleep() </strong>плохое: 
оно не масштабируемое и трудно поддерживаемое.</p>

<p>Идеальное решение могло бы быть таким: нам всё равно надо 
избежать ложного падения тестов из-за асинхронной работы скриптов или задержек от сервера,
поэтому мы будем ждать появление элемента на странице в течение заданного количества времени 
(например, 5 секунд).
Проверять наличие элемента будем каждые 500 мс.
Как только элемент будет найден, мы сразу перейдем к следующему шагу в тесте.
Таким образом, мы сможем получить нужный элемент в идеальном случае сразу, в худшем случае за 5 секунд.</p>

<p>В Selenium WebDriver есть специальный способ организации такого ожидания, 
который позволяет задать ожидание при инициализации драйвера, 
чтобы применить его ко всем тестам. Ожидание называется <strong>неявным</strong>
(<strong>Implicit wait</strong>), так как его не надо явно указывать каждый раз, когда мы выполняем поиск элементов, оно автоматически будет применяться при вызове каждой последующей команды.</p>

<p>Улучшим наш тест с помощью неявных ожиданий.
Для этого нам нужно будет убрать time.sleep() 
и добавить одну строчку с методом <strong>implicitly wait</strong>:</p>

<pre><code class="language-python">
from selenium import webdriver
from selenium.webdriver.common.by import By

browser = webdriver.Chrome()
try:
    browser.implicitly_wait(5)
    browser.get("http://suninjuly.github.io/wait1.html")
    button = browser.find_element(By.ID, "verify")
    button.click()
    message = browser.find_element(By.ID, "verify_message")
    assert "successful" in message.text
finally:
    browser.quit()

</code></pre>

<p>Теперь мы можем быть уверены,
что при небольших задержках в работе сайта наши тесты продолжат работать стабильно. 
На каждый вызов команды <strong>find_element</strong> 
WebDriver будет ждать 5 секунд до появления элемента на странице прежде, 
чем выбросить исключение <strong>NoSuchElementException</strong>.</p>
