<h2>Методы-проверки в Page Object</h2>

<p>Давайте теперь автоматизируем другой тест-кейс и посмотрим на его примере, как делать методы-проверки. </p>

<p>Допустим, нам нужно проверять такой сценарий: </p>

<ol>
	<li>Открыть главную страницу </li>
	<li>Проверить, что есть ссылка, которая ведет на логин </li>
</ol>

<p>Для этого в классе MainPage нужно реализовать метод, который будет проверять наличие ссылки. Обычно все такие методы-проверки называются похожим образом, мы будем называть их should_be_(название элемента). </p>

<p>Итак, в классе MainPage создайте метод <code>should_be_login_link</code>. </p>

<p>Для первой пробы можно реализовать его самым примитивным образом: </p>

<pre><code>def should_be_login_link(self):
    self.browser.find_element(By.CSS_SELECTOR, "#login_link_invalid")</code></pre>

<p>Сейчас мы намеренно сделали селектор неправильным, чтобы посмотреть, что именно выдаст тест, если поймает баг. Это хорошая практика: писать сначала красные тесты и только потом делать их зелеными.  </p>

<p>Добавляем в файл с тест-кейсами новый тест: </p>

<pre><code class="language-python">def test_guest_should_see_login_link(browser):
    link = "http://selenium1py.pythonanywhere.com/"
    page = MainPage(browser, link)
    page.open()
    page.should_be_login_link()</code></pre>

<p>Запустите получившийся тест: </p>

<pre><code>pytest -v --tb=line --language=en test_main_page.py</code></pre>

<p>Вывод об ошибке не очень понятный, правда? Разобраться, что именно пошло не так, довольно тяжело. Поэтому в следующем шаге нам нужно будет обработать исключение, которое выбрасывает WebDriver. </p>
